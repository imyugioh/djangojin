<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="1 11 1034 741" width="1034pt" height="741pt"><metadata xmlns:dc="http://purl.org/dc/elements/1.1/"><dc:date>2017-12-13 18:19Z</dc:date><!-- Produced by OmniGraffle Professional 5.4.4 --></metadata><defs><filter id="Shadow" filterUnits="userSpaceOnUse"><feGaussianBlur in="SourceAlpha" result="blur" stdDeviation="3.488"/><feOffset in="blur" result="offset" dx="0" dy="4"/><feFlood flood-color="black" flood-opacity=".75" result="flood"/><feComposite in="flood" in2="offset" operator="in"/></filter><font-face font-family="Helvetica" font-size="12" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="522.94922" cap-height="717.28516" ascent="770.01953" descent="-229.98047" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><title>grant/request role</title><g><title>Layer 1</title><g><use xl:href="#id57_Graphic" filter="url(#Shadow)"/><use xl:href="#id1_Graphic" filter="url(#Shadow)"/><use xl:href="#id35_Graphic" filter="url(#Shadow)"/><use xl:href="#id37_Graphic" filter="url(#Shadow)"/><use xl:href="#id38_Graphic" filter="url(#Shadow)"/><use xl:href="#id43_Graphic" filter="url(#Shadow)"/><use xl:href="#id44_Graphic" filter="url(#Shadow)"/><use xl:href="#id45_Graphic" filter="url(#Shadow)"/><use xl:href="#id48_Graphic" filter="url(#Shadow)"/><use xl:href="#id58_Graphic" filter="url(#Shadow)"/><use xl:href="#id60_Graphic" filter="url(#Shadow)"/><use xl:href="#id76_Graphic" filter="url(#Shadow)"/><use xl:href="#id77_Graphic" filter="url(#Shadow)"/><use xl:href="#id78_Graphic" filter="url(#Shadow)"/></g><g id="id57_Graphic"><rect x="754" y="405" width="270" height="248" fill="white"/><rect x="754" y="405" width="270" height="248" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(759 417)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="108.32031" y="11" textLength="43.359375">Grantee</tspan></text></g><g id="id1_Graphic"><rect x="299" y="129" width="429" height="608" fill="white"/><rect x="299" y="129" width="429" height="608" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(304 139)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="189.15918" y="11" textLength="40.68164">Grantor</tspan></text></g><g id="id35_Graphic"><path d="M 338 158 L 603 158 C 605.76142 158 608 160.23858 608 163 L 608 222 C 608 224.76142 605.76142 227 603 227 L 338 227 C 335.23858 227 333 224.76142 333 222 L 333 163 C 333 160.23858 335.23858 158 338 158 Z" fill="white"/><path d="M 338 158 L 603 158 C 605.76142 158 608 160.23858 608 163 L 608 222 C 608 224.76142 605.76142 227 603 227 L 338 227 C 335.23858 227 333 224.76142 333 222 L 333 163 C 333 160.23858 335.23858 158 338 158 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(338 171.5)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="21.104492" y="11" textLength="226.125">accepts request or initiates grant *role* on </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="64.789062" y="25" textLength="135.421875">*organization* to *invitee*</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="6.227539" y="39" textLength="56.009766">(ex: POST</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="62.026367" y="39" textLength="52.69336">  /api/profi</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="114.719727" y="39" textLength="144.052734">le/cowork/roles/managers/)</tspan></text></g><g id="id37_Graphic"><path d="M 836.5 448 L 947.5 448 C 950.2614 448 952.5 450.23858 952.5 453 L 952.5 497 C 952.5 499.76142 950.2614 502 947.5 502 L 836.5 502 C 833.7386 502 831.5 499.76142 831.5 497 L 831.5 453 C 831.5 450.23858 833.7386 448 836.5 448 Z" fill="white"/><path d="M 836.5 448 L 947.5 448 C 950.2614 448 952.5 450.23858 952.5 453 L 952.5 497 C 952.5 499.76142 950.2614 502 947.5 502 L 836.5 502 C 833.7386 502 831.5 499.76142 831.5 497 L 831.5 453 C 831.5 450.23858 833.7386 448 836.5 448 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(836.5 461)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="21.140625" y="11" textLength="72.052734">Login as http </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="22.148438" y="25" textLength="66.703125">request.user</tspan></text></g><g id="id38_Graphic"><path d="M 318 254 L 465 254 C 467.76142 254 470 256.23858 470 259 L 470 307 C 470 309.76142 467.76142 312 465 312 L 318 312 C 315.23858 312 313 309.76142 313 307 L 313 259 C 313 256.23858 315.23858 254 318 254 Z" fill="white"/><path d="M 318 254 L 465 254 C 467.76142 254 470 256.23858 470 259 L 470 307 C 470 309.76142 467.76142 312 465 312 L 318 312 C 315.23858 312 313 309.76142 313 307 L 313 259 C 313 256.23858 315.23858 254 318 254 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(318 269)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="18.155273" y="11" textLength="114.02344">*invitee* is a ``User`` </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="23.80664" y="25" textLength="99.38672">already registered.</tspan></text></g><line x1="470.5" y1="227" x2="400.86798" y2="250.79829" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><g id="id43_Graphic"><path d="M 312 366 L 439 366 C 441.76142 366 444 368.23858 444 371 L 444 419 C 444 421.76142 441.76142 424 439 424 L 312 424 C 309.23858 424 307 421.76142 307 419 L 307 371 C 307 368.23858 309.23858 366 312 366 Z" fill="white"/><path d="M 312 366 L 439 366 C 441.76142 366 444 368.23858 444 371 L 444 419 C 444 421.76142 441.76142 424 439 424 L 312 424 C 309.23858 424 307 421.76142 307 419 L 307 371 C 307 368.23858 309.23858 366 312 366 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(312 374)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="6.1308594" y="11" textLength="118.072266">Role does not require </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="48.49121" y="25" textLength="30.017578">opt-in</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="7.1328125" y="39" textLength="112.734375">*grantee* is *invitee*.</tspan></text></g><g id="id44_Graphic"><path d="M 420.5 433 L 620.5 433 C 623.26142 433 625.5 435.23858 625.5 438 L 625.5 497 C 625.5 499.76142 623.26142 502 620.5 502 L 420.5 502 C 417.73858 502 415.5 499.76142 415.5 497 L 415.5 438 C 415.5 435.23858 417.73858 433 420.5 433 Z" fill="white"/><path d="M 420.5 433 L 620.5 433 C 623.26142 433 625.5 435.23858 625.5 438 L 625.5 497 C 625.5 499.76142 623.26142 502 620.5 502 L 420.5 502 C 417.73858 502 415.5 499.76142 415.5 497 L 415.5 438 C 415.5 435.23858 417.73858 433 420.5 433 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(420.5 439.5)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="47.640625" y="11" textLength="104.71875">Role requires opt-in</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="29.291992" y="39" textLength="141.416016">send opt-in link to *invitee*</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="3.288086" y="53" textLength="193.42383">/users/:user/roles/accept/:grant_key/</tspan></text></g><g id="id45_Graphic"><path d="M 342 636 L 556 636 C 558.76142 636 561 638.23858 561 641 L 561 700 C 561 702.76142 558.76142 705 556 705 L 342 705 C 339.23858 705 337 702.76142 337 700 L 337 641 C 337 638.23858 339.23858 636 342 636 Z" fill="white"/><path d="M 342 636 L 556 636 C 558.76142 636 561 638.23858 561 641 L 561 700 C 561 702.76142 558.76142 705 556 705 L 342 705 C 339.23858 705 337 702.76142 337 700 L 337 641 C 337 638.23858 339.23858 636 342 636 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(342 656.5)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="15.277344" y="11" textLength="186.7793">Activate *role* on *organization* to </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="81.98047" y="25" textLength="50.039062">*grantee*</tspan></text></g><line x1="391.5" y1="312" x2="378.31247" y2="356.5079" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="391.5" y1="312" x2="513.27933" y2="426.22712" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><g id="id48_Graphic"><path d="M 775 534 L 1009 534 C 1011.7614 534 1014 536.23858 1014 539 L 1014 598 C 1014 600.76142 1011.7614 603 1009 603 L 775 603 C 772.23858 603 770 600.76142 770 598 L 770 539 C 770 536.23858 772.23858 534 775 534 Z" fill="white"/><path d="M 775 534 L 1009 534 C 1011.7614 534 1014 536.23858 1014 539 L 1014 598 C 1014 600.76142 1011.7614 603 1009 603 L 775 603 C 772.23858 603 770 600.76142 770 598 L 770 539 C 770 536.23858 772.23858 534 775 534 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(775 540.5)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="11.9384766" y="11" textLength="210.12305">*grantee* accepts invitation for *invitee*</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="6.392578" y="25" textLength="24.667969">GET</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="30.84961" y="25" textLength="196.75781"> /users/:user/roles/accept/:grant_key/</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="4.2714844" y="39" textLength="228.79102">update role.user (*invitee*) to request.user </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="87.984375" y="53" textLength="58.03125">(*grantee*)</tspan></text></g><line x1="892" y1="502" x2="892" y2="524.1" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><g id="id58_Graphic"><path d="M 484 254 L 631 254 C 633.76142 254 636 256.23858 636 259 L 636 307 C 636 309.76142 633.76142 312 631 312 L 484 312 C 481.23858 312 479 309.76142 479 307 L 479 259 C 479 256.23858 481.23858 254 484 254 Z" fill="white"/><path d="M 484 254 L 631 254 C 633.76142 254 636 256.23858 636 259 L 636 307 C 636 309.76142 633.76142 312 631 312 L 484 312 C 481.23858 312 479 309.76142 479 307 L 479 259 C 479 256.23858 481.23858 254 484 254 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(484 269)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="2.4521484" y="11" textLength="145.42969">*invitee* is not found in the </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="22.825195" y="25" textLength="101.34961">registered ``User``.</tspan></text></g><line x1="470.5" y1="227" x2="548.04487" y2="251.06565" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><g id="id60_Graphic"><path d="M 561.5 327.5 L 716.25 327.5 C 719.01142 327.5 721.25 329.73858 721.25 332.5 L 721.25 387 C 721.25 389.76142 719.01142 392 716.25 392 L 561.5 392 C 558.73858 392 556.5 389.76142 556.5 387 L 556.5 332.5 C 556.5 329.73858 558.73858 327.5 561.5 327.5 Z" fill="white"/><path d="M 561.5 327.5 L 716.25 327.5 C 719.01142 327.5 721.25 329.73858 721.25 332.5 L 721.25 387 C 721.25 389.76142 719.01142 392 716.25 392 L 561.5 392 C 558.73858 392 556.5 389.76142 556.5 387 L 556.5 332.5 C 556.5 329.73858 558.73858 327.5 561.5 327.5 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(561.5 331.75)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="3.3300781" y="11" textLength="148.08984">Role does not require opt-in</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="6.6875" y="25" textLength="141.375">1. Create ``User`` *invitee*</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="3.6669922" y="39" textLength="150.75">(2. send login activation link </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="46.692383" y="53" textLength="61.365234">to *invitee*)</tspan></text></g><line x1="557.5" y1="312" x2="629.14985" y2="325.6476" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="557.5" y1="312" x2="523.39495" y2="423.53272" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="375.5" y1="424" x2="445.75706" y2="626.6462" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="892" y1="603" x2="570.70034" y2="668.52183" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><g id="id76_Graphic"><rect x="12" y="18" width="275" height="203" fill="white"/><rect x="12" y="18" width="275" height="203" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(17 28.5)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="104.81738" y="11" textLength="55.365234">Requestor</tspan></text></g><g id="id77_Graphic"><path d="M 24.426788 50 L 258.42679 50 C 261.18821 50 263.42679 52.238576 263.42679 55 L 263.42679 114 C 263.42679 116.761424 261.18821 119 258.42679 119 L 24.426788 119 C 21.665365 119 19.426788 116.761424 19.426788 114 L 19.426788 55 C 19.426788 52.238576 21.665365 50 24.426788 50 Z" fill="white"/><path d="M 24.426788 50 L 258.42679 50 C 261.18821 50 263.42679 52.238576 263.42679 55 L 263.42679 114 C 263.42679 116.761424 261.18821 119 258.42679 119 L 24.426788 119 C 21.665365 119 19.426788 116.761424 19.426788 114 L 19.426788 55 C 19.426788 52.238576 21.665365 50 24.426788 50 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(24.426788 63.5)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="5.9326172" y="11" textLength="168.76172">initiates request for an unspecifi</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="174.69434" y="11" textLength="56.70703">ed role on </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="77.973633" y="25" textLength="78.052734">*organization*.</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="9.401367" y="39" textLength="56.009766">(ex: POST</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="65.200195" y="39" textLength="159.39844">  /api/users/alice/accessibles/)</tspan></text></g><g id="id78_Graphic"><path d="M 24 141.5 L 258 141.5 C 260.76142 141.5 263 143.73858 263 146.5 L 263 205.5 C 263 208.26142 260.76142 210.5 258 210.5 L 24 210.5 C 21.238576 210.5 19 208.26142 19 205.5 L 19 146.5 C 19 143.73858 21.238576 141.5 24 141.5 Z" fill="white"/><path d="M 24 141.5 L 258 141.5 C 260.76142 141.5 263 143.73858 263 146.5 L 263 205.5 C 263 208.26142 260.76142 210.5 258 210.5 L 24 210.5 C 21.238576 210.5 19 208.26142 19 205.5 L 19 146.5 C 19 143.73858 21.238576 141.5 24 141.5 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(24 148)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="46.30078" y="11" textLength="141.39844">*organization* must exists.</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="37.620117" y="39" textLength="162.09375">sends request to managers of </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="79.640625" y="53" textLength="74.71875">*organization*</tspan></text></g><line x1="263" y1="176" x2="323.36407" y2="190.22867" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="141.42679" y1="119" x2="141.18775" y2="131.60178" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="638.875" y1="392" x2="822.4081" y2="471.0824" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="625.5" y1="467.5" x2="821.60655" y2="474.6398" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g></g></svg>
